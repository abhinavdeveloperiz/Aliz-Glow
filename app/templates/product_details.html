{% extends 'base.html' %}
{% load static %}
{% block content %}

<section class="relative h-[40vh] md:h-[50vh] bg-cover bg-center" style="background-image: url('/static/products/p3.jpg');">
    <div class="absolute inset-0 bg-black/50 flex flex-col justify-center items-center">
        <h1 class="text-3xl md:text-5xl font-bold text-white text-center uppercase tracking-wide">{{ product.name }}</h1>
        <nav class="mt-3 text-white text-sm md:text-base flex items-center space-x-2">
            <a href="/" class="hover:text-pink-500 hover:underline transition">Home</a>
            <span>&gt;</span>
            <span class="font-semibold">{{ product.name|truncatechars:20 }}</span>
        </nav>
    </div>
</section>

<section class="bg-lightpink py-16">
    <div class="max-w-7xl mx-auto px-4">
        <div class="grid md:grid-cols-2 gap-12 items-start">

            <div>
                <div class="relative mb-6" data-aos="fade-right" >
                    <img id="mainImage" src="{{ product.image.url }}" alt="{{ product.name }}"
                        class="w-full h-[350px] md:h-[500px] object-cover rounded-xl shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                </div>

                <div class="flex gap-4 overflow-x-auto scrollbar-thin scrollbar-thumb-pink-300 scrollbar-track-gray-200 p-1" >
                    {% if product.image %}
                    <img src="{{ product.image.url }}" onclick="updateMain(this)"
                        class="w-24 h-24 object-cover rounded-lg cursor-pointer border-2 border-pink-500 hover:scale-105 transition">
                    {% endif %}
                    {% if product.image2 %}
                    <img src="{{ product.image2.url }}" onclick="updateMain(this)"
                        class="w-24 h-24 object-cover rounded-lg cursor-pointer border border-gray-300 hover:border-pink-500 hover:scale-105 transition">
                    {% endif %}
                    {% if product.image3 %}
                    <img src="{{ product.image3.url }}" onclick="updateMain(this)"
                        class="w-24 h-24 object-cover rounded-lg cursor-pointer border border-gray-300 hover:border-pink-500 hover:scale-105 transition">
                    {% endif %}
                    {% if product.image4 %}
                    <img src="{{ product.image4.url }}" onclick="updateMain(this)"
                        class="w-24 h-24 object-cover rounded-lg cursor-pointer border border-gray-300 hover:border-pink-500 hover:scale-105 transition">
                    {% endif %}
                    {% if product.image5 %}
                    <img src="{{ product.image5.url }}" onclick="updateMain(this)"
                        class="w-24 h-24 object-cover rounded-lg cursor-pointer border border-gray-300 hover:border-pink-500 hover:scale-105 transition">
                    {% endif %}
                    {% if product.image6 %}
                    <img src="{{ product.image6.url }}" onclick="updateMain(this)"
                        class="w-24 h-24 object-cover rounded-lg cursor-pointer border border-gray-300 hover:border-pink-500 hover:scale-105 transition">
                    {% endif %}
                </div>
            </div>

            <div class="flex flex-col justify-start space-y-4" data-aos="fade-left">
                <h1 class="text-4xl md:text-5xl font-bold text-brown-800 uppercase tracking-wide">{{ product.name }}</h1>
                {% if product.price %}
                <p class="text-2xl md:text-3xl font-extrabold text-green-500">AED {{ product.price }}</p>
                {% endif %}
                <p class="text-brown-700 text-justify leading-relaxed">{{ product.description }}</p>

                <a href="tel:" 
                    class="w-[130px] bg-pink text-white px-8 py-3 rounded-lg font-semibold shadow-lg hover:bg-pink-600 hover:scale-105 transition transform">
                    Contact
                </a>
            </div>

        </div>
    </div>
</section>

<script>
    function updateMain(el) {
        const mainImage = document.getElementById('mainImage');
        mainImage.src = el.src;
        mainImage.classList.add('opacity-0');
        setTimeout(() => {
            mainImage.classList.remove('opacity-0');
        }, 50);
    }
</script>

{% endblock %}
